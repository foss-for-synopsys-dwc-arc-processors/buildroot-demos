From 25e47a88b123cbd0965dcd6992d568045c0f5c8f Mon Sep 17 00:00:00 2001
From: Eugeniy Paltsev <Eugeniy.Paltsev@synopsys.com>
Date: Wed, 22 Jan 2020 14:34:01 +0300
Subject: [PATCH 12/23] HSDK: disable loop buffer

Signed-off-by: Eugeniy Paltsev <Eugeniy.Paltsev@synopsys.com>
---
 arch/arc/plat-hsdk/platform.c | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/arch/arc/plat-hsdk/platform.c b/arch/arc/plat-hsdk/platform.c
index 0b961a2a10b8..65879075d29b 100644
--- a/arch/arc/plat-hsdk/platform.c
+++ b/arch/arc/plat-hsdk/platform.c
@@ -320,6 +320,9 @@ static void __init hsdk_init_memory_bridge(void)
 
 static void __init hsdk_init_early(void)
 {
+	if (read_aux_reg(ARC_REG_LPB_BUILD))
+		write_aux_reg(ARC_REG_LPB_CTRL, 1);
+
 	hsdk_init_memory_bridge();
 
 	/*
-- 
2.16.2

